// ==========================================
// QUALITY CONTROL
// ==========================================

@use '../abstracts/variables' as *;
@use '../abstracts/mixins' as *;

// -----------------------------
// Quality Control Container
// -----------------------------
.quality-control {
    @include card-base;
    margin: $spacing-xl 0;
    
    @include respond-to('md') {
        margin: $spacing-lg 0;
    }
}

// -----------------------------
// Resize Option (Mode Selection)
// -----------------------------
.resize-option {
    padding: $spacing-lg;
    margin-bottom: $spacing-xl;
    
    .conversion-mode-label {
        text-align: center;
        font-weight: $font-weight-semibold;
        color: $text-primary;
        margin-bottom: $spacing-lg;
        font-size: $font-size-md;
    }
    
    .segmented-control {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: $spacing-md;
        
        @include respond-to('md') {
            grid-template-columns: 1fr;
            gap: $spacing-md;
        }
        
        input[type="radio"] {
            display: none;
        }
        
        label {
            background: rgba($white, 0.8);
            border-radius: $radius-lg;
            padding: $spacing-lg $spacing-md;
            cursor: pointer;
            transition: all $transition-smooth;
            text-align: center;
            user-select: none;
            position: relative;
            border: 2px solid transparent;
            box-shadow: $shadow-sm;
            
            @include respond-to('md') {
                padding: $spacing-lg $spacing-md;
            }
            
            &:hover {
                transform: translateY(-3px);
                box-shadow: $shadow-md;
                border-color: rgba($primary-color, 0.3);
            }
            
            .option-title {
                display: block;
                font-size: $font-size-lg;
                font-weight: $font-weight-bold;
                color: $text-primary;
                margin-bottom: $spacing-sm;
                
                @include respond-to('md') {
                    font-size: $font-size-md;
                }
            }
            
            .option-subtitle {
                display: block;
                font-size: $font-size-sm;
                font-weight: $font-weight-normal;
                color: $text-secondary;
                line-height: 1.4;
                
                @include respond-to('md') {
                    font-size: $font-size-xs;
                }
            }
            
            .recommended-badge {
                position: absolute;
                top: -10px;
                right: -10px;
                background: $success-gradient;
                color: $white;
                font-size: 0.65rem;
                padding: 4px 10px;
                border-radius: $radius-lg;
                font-weight: $font-weight-extrabold;
                box-shadow: 0 4px 12px rgba($success-color, 0.4);
                letter-spacing: 0.5px;
                
                @include respond-to('md') {
                    top: -8px;
                    right: -8px;
                    font-size: 0.6rem;
                    padding: 3px 8px;
                }
            }
        }
        
        input[type="radio"]:checked + label {
            background: $primary-gradient;
            border-color: transparent;
            transform: scale(1.05);
            box-shadow: 0 12px 28px rgba($primary-color, 0.35);
            
            @include respond-to('md') {
                transform: scale(1.02);
            }
            
            .option-title {
                color: $white;
            }
            
            .option-subtitle {
                color: rgba($white, 0.9);
            }
            
            .recommended-badge {
                background: $white;
                color: $success-color;
            }
        }
    }
    
    .conversion-info {
        margin-top: $spacing-lg;
        text-align: center;
        font-size: 0.9rem;
        color: $text-secondary;
        padding: $spacing-md;
        background: rgba($white, 0.5);
        border-radius: $radius-md;
        
        @include respond-to('md') {
            font-size: $font-size-sm;
            padding: 0.7rem;
        }
        
        i {
            color: $info-color;
        }
    }
}

// -----------------------------
// Quality Section (Slider)
// -----------------------------
.quality-section {
    padding: $spacing-lg;
    margin-top: $spacing-lg;
    
    .quality-header {
        @include section-header;
        margin-bottom: $spacing-xl;
        
        .quality-value {
            font-size: $font-size-xl;
            font-weight: $font-weight-bold;
            @include gradient-text;
        }
    }
    
    .quality-slider {
        width: 100%;
        height: 8px;
        border-radius: 5px;
        background: linear-gradient(to right, #ff6b6b, #feca57, #48dbfb, #0abde3);
        outline: none;
        -webkit-appearance: none;
        
        &::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 25px;
            height: 25px;
            border-radius: $radius-circle;
            background: $white;
            cursor: pointer;
            border: 3px solid $primary-color;
            box-shadow: $shadow-md;
            transition: all $transition-fast;
            
            &:hover {
                transform: scale(1.2);
                box-shadow: 0 6px 20px rgba($primary-color, 0.4);
            }
        }
        
        &::-moz-range-thumb {
            width: 25px;
            height: 25px;
            border-radius: $radius-circle;
            background: $white;
            cursor: pointer;
            border: 3px solid $primary-color;
            box-shadow: $shadow-md;
        }
    }
}

// -----------------------------
// Resize Section (Dimensions)
// -----------------------------
.resize-section {
    padding: $spacing-lg;
    margin-top: $spacing-lg;
    
    .resize-header {
        @include section-header;
    }
    
    .aspect-ratio-toggle {
        display: flex;
        justify-content: center;
        margin-bottom: $spacing-lg;
        
        .aspect-btn {
            background: rgba($white, 0.8);
            border: 2px solid rgba($primary-color, 0.3);
            border-radius: $radius-lg;
            padding: $spacing-md $spacing-lg;
            color: $text-primary;
            font-weight: $font-weight-semibold;
            cursor: pointer;
            transition: all $transition-base;
            display: flex;
            align-items: center;
            gap: $spacing-sm;
            
            i {
                color: $primary-color;
                transition: all $transition-base;
            }
            
            &:hover {
                transform: translateY(-2px);
                box-shadow: 0 4px 15px rgba($primary-color, 0.2);
            }
            
            &.active {
                background: $primary-gradient;
                color: $white;
                border-color: transparent;
                
                i {
                    color: $white;
                }
            }
            
            &:not(.active) i {
                transform: rotate(45deg);
            }
        }
    }
    
    .dimension-inputs {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: $spacing-lg;
        
        @include respond-to('md') {
            grid-template-columns: 1fr;
            gap: $spacing-md;
        }
        
        .dimension-group {
            label {
                display: block;
                font-weight: $font-weight-semibold;
                color: $text-primary;
                margin-bottom: $spacing-sm;
                font-size: 0.95rem;
            }
            
            .dimension-input {
                width: 100%;
                @include input-base;
                font-size: $font-size-md;
                font-weight: $font-weight-semibold;
            }
        }
    }
}

// -----------------------------
// Batch Rename Section
// -----------------------------
.batch-rename-section {
    padding: $spacing-lg;
    background: rgba($white, 0.1);
    border-radius: $radius-xl;
    border: 1px solid rgba($white, 0.2);
    margin-top: $spacing-lg;
    
    .rename-header {
        text-align: center;
        font-weight: $font-weight-semibold;
        color: $text-primary;
        margin-bottom: $spacing-md;
        font-size: $font-size-md;
    }
    
    .rename-input-group {
        .rename-input {
            width: 100%;
            @include input-base;
        }
        
        .rename-preview {
            margin-top: $spacing-md;
            text-align: center;
            font-size: 0.9rem;
            color: $text-secondary;
            
            .preview-examples {
                display: flex;
                justify-content: center;
                gap: $spacing-sm;
                margin-top: $spacing-sm;
                flex-wrap: wrap;
                
                .preview-badge {
                    background: rgba($primary-color, 0.1);
                    color: $primary-color;
                    padding: $spacing-xs $spacing-md;
                    border-radius: $radius-md;
                    font-size: $font-size-sm;
                    font-weight: $font-weight-medium;
                }
            }
        }
    }
}

// -----------------------------
// EXIF Option
// -----------------------------
.exif-option {
    padding: $spacing-lg;
    background: rgba($white, 0.1);
    border-radius: $radius-xl;
    border: 1px solid rgba($white, 0.2);
    margin-top: $spacing-lg;
}

// -----------------------------
// Preset Actions
// -----------------------------
.preset-actions {
    display: flex;
    justify-content: center;
    padding: $spacing-lg;
}
